{% extends "adminpanel/base.html" %}
{% block title %}Gallery{% endblock %}
{% block header %}Gallery{% endblock %}

{% block content %}
<style>
{% comment %} .form-card {
    max-width: 780px;
    margin: auto;
    background: #fff;
    border-radius: 14px;
    box-shadow: 0 10px 25px rgba(0,0,0,.08);
}

.form-header {
    padding: 1.5rem 2rem;
    border-bottom: 1px solid #eee;
}

.form-body {
    padding: 2rem;
}

.form-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 22px;
}

.form-group {
    display: flex;
    flex-direction: column;
}

.form-group label {
    font-weight: 600;
    margin-bottom: 6px;
}

.form-input,
.form-select {
    padding: 12px;
    border-radius: 10px;
    border: 1px solid #d1d5db;
}

.form-checkbox {
    transform: scale(1.2);
}

.preview img {
    width: 160px;
    border-radius: 10px;
    border: 1px solid #ddd;
    margin-top: 10px;
}

.form-actions {
    display: flex;
    justify-content: flex-end;
    gap: 14px;
    margin-top: 2rem;
} {% endcomment %}
</style>

<div class="form-card">
    <div class="form-header">
        <h2>{% if photo %}Edit{% else %}Add{% endif %} Gallery Image</h2>
    </div>

    <form method="POST" enctype="multipart/form-data" class="form-body">
        {% csrf_token %}

        <div class="form-grid">
            <div class="form-group">
                <label>Title</label>
                {{ form.title }}
            </div>

            <div class="form-group">
                <label>Category</label>
                {{ form.category }}
            </div>

            <div class="form-group">
                <label>Image</label>
                {{ form.image }}
                {% if photo and photo.image %}
                    <div class="preview">
                        <img src="{{ photo.image.url }}">
                    </div>
                {% endif %}
            </div>

            <div class="form-group">
                <label>Display Order</label>
                {{ form.slot_position }}
            </div>

            <div class="form-group" style="grid-column: span 2;">
                <label>
                    {{ form.is_featured }} Featured Image
                </label>
            </div>
        </div>

        <div class="form-actions">
            <button class="btn-primary">
                {% if photo %}Update{% else %}Save{% endif %}
            </button>
            <a href="{% url 'vivaan_admin:gallery_list' %}" class="btn-secondary">
                Cancel
            </a>
        </div>
    </form>
</div>
{% endblock %}
