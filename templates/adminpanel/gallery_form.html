{% extends "adminpanel/base.html" %}
{% block title %}Gallery{% endblock %}
{% block header %}Gallery{% endblock %}

{% block content %}

<div class="max-w-2xl mx-auto bg-white rounded-xl shadow-md overflow-hidden">

    <!-- HEADER -->
    <div class="px-6 py-4 border-b">
        <h2 class="text-lg font-semibold text-gray-800">
            {% if photo %}Edit{% else %}Add{% endif %} Gallery Image
        </h2>
        <p class="text-sm text-gray-500 mt-1">
            Upload and manage gallery images
        </p>
    </div>

    <!-- FORM -->
    <form method="POST" enctype="multipart/form-data"
          class="p-6 space-y-5">
        {% csrf_token %}

        <!-- Title -->
        <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">
                Title
            </label>
            {{ form.title }}
        </div>

        <!-- Category -->
        <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">
                Category
            </label>
            {{ form.category }}
        </div>

        <!-- Image -->
        <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">
                Image
            </label>
            {{ form.image }}

            {% if photo and photo.image %}
            <img src="{{ photo.image.url }}"
                 class="mt-3 w-full h-40 object-cover rounded-lg border">
            {% endif %}
        </div>

        <!-- Display Order -->
        <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">
                Display Order
            </label>
            {{ form.slot_position }}
        </div>

        <!-- Featured -->
        <div class="flex items-center gap-2">
            {{ form.is_featured }}
            <span class="text-sm text-gray-700">
                Featured Image
            </span>
        </div>

        <!-- ACTIONS -->
        <div class="flex flex-col sm:flex-row justify-end gap-3 pt-4 border-t">
            <a href="{% url 'vivaan_admin:gallery_list' %}"
               class="text-center px-5 py-2 rounded-lg bg-gray-100 text-gray-700 font-medium hover:bg-gray-200">
                Cancel
            </a>

            <button type="submit"
                class="px-5 py-2 rounded-lg bg-indigo-600 text-white font-semibold hover:bg-indigo-700">
                {% if photo %}Update{% else %}Save{% endif %}
            </button>
        </div>

    </form>
</div>

{% endblock %}
