{% extends 'adminpanel/base.html' %}
{% block header %}Edit Room Category{% endblock %}

{% block content %}

<style>
.form-wrapper {
    max-width: 1100px;
    margin: auto;
}

.form-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1.5rem;
}

.form-card {
    background: #ffffff;
    padding: 1.5rem;
    border-radius: 14px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.06);
}

.form-title {
    font-size: 1rem;
    font-weight: 700;
    margin-bottom: 1rem;
    color: #065f46;
    border-bottom: 1px solid #e5e7eb;
    padding-bottom: 6px;
}

.form-group {
    margin-bottom: 0.9rem;
}

.form-group label {
    font-size: 0.8rem;
    font-weight: 600;
    color: #374151;
    display: block;
    margin-bottom: 4px;
}

.form-group input,
.form-group select,
.form-group textarea {
    width: 100%;
    padding: 9px 11px;
    border-radius: 8px;
    border: 1px solid #d1d5db;
    font-size: 0.9rem;
}

.form-group textarea {
    resize: vertical;
}

.checkbox-group {
    display: flex;
    gap: 2rem;
    margin-top: 0.5rem;
}

.checkbox-group label {
    font-size: 0.85rem;
    font-weight: 500;
}

.image-preview {
    margin-top: 0.75rem;
}

.image-preview img {
    width: 100%;
    max-height: 180px;
    object-fit: cover;
    border-radius: 10px;
    border: 1px solid #e5e7eb;
}

.form-actions {
    margin-top: 2rem;
    display: flex;
    justify-content: flex-end;
    gap: 1rem;
}
</style>

<div class="form-wrapper">

<form method="post" enctype="multipart/form-data">
{% csrf_token %}

<div class="form-grid">

    <!-- BASIC DETAILS -->
    <div class="form-card">
        <div class="form-title">Basic Information</div>

        <div class="form-group">
            <label>Category Name</label>
            <input type="text" name="name" value="{{ category.name }}" required>
        </div>

        <div class="form-group">
            <label>Description</label>
            <textarea name="description" rows="5">{{ category.description }}</textarea>
        </div>
    </div>

    <!-- PRICING & CAPACITY -->
    <div class="form-card">
        <div class="form-title">Pricing & Capacity</div>

        <div class="form-group">
            <label>Base Price (â‚¹)</label>
            <input type="number" name="base_price" step="0.01"
                   value="{{ category.base_price }}" required>
        </div>

        <div class="form-group">
            <label>Size (Sqft)</label>
            <input type="number" name="size_sqft"
                   value="{{ category.size_sqft }}" required>
        </div>

        <div class="form-group">
            <label>Max Occupancy</label>
            <input type="number" name="max_occupancy"
                   value="{{ category.max_occupancy }}" required>
        </div>
    </div>

    <!-- LOCATION & VIEW -->
    <div class="form-card">
        <div class="form-title">Location & View</div>

        <div class="form-group">
            <label>Floor</label>
            <input type="text" name="floor" value="{{ category.floor }}">
        </div>

        <div class="form-group">
            <label>View Type</label>
            <select name="view_type">
                <option value="standard" {% if category.view_type == "standard" %}selected{% endif %}>Standard</option>
                <option value="garden" {% if category.view_type == "garden" %}selected{% endif %}>Garden View</option>
                <option value="valley" {% if category.view_type == "valley" %}selected{% endif %}>Valley View</option>
                <option value="pool" {% if category.view_type == "pool" %}selected{% endif %}>Pool View</option>
            </select>
        </div>

        <div class="form-group">
            <label>Change Room Image</label>
            <input type="file" name="image">
        </div>

        {% if category.image %}
        <div class="image-preview">
            <small class="text-gray-500">Current Image</small>
            <img src="{{ category.image.url }}" alt="{{ category.name }}">
        </div>
        {% endif %}
    </div>

    <!-- FEATURES -->
    <div class="form-card">
        <div class="form-title">Room Features</div>

        <div class="checkbox-group">
            <label>
                <input type="checkbox" name="has_balcony"
                       {% if category.has_balcony %}checked{% endif %}>
                Balcony
            </label>
            <label>
                <input type="checkbox" name="has_bathtub"
                       {% if category.has_bathtub %}checked{% endif %}>
                Bathtub
            </label>
        </div>
    </div>

</div>

<div class="form-actions">
    <a href="{% url 'vivaan_admin:room_list' %}" class="btn-action btn-view">
        Cancel
    </a>
    <button class="btn-action btn-add">
        Update Room Category
    </button>
</div>

</form>
</div>

{% endblock %}
